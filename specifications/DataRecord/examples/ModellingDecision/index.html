
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://wehi-soda-hub.github.io/cordful/specifications/DataRecord/examples/ModellingDecision/">
      
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Modelling Decision for DataRecord - cordful</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#modelling-decision-for-datarecord" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="cordful" class="md-header__button md-logo" aria-label="cordful" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            cordful
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Modelling Decision for DataRecord
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="cordful" class="md-nav__button md-logo" aria-label="cordful" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    cordful
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#issue-that-arises" class="md-nav__link">
    <span class="md-ellipsis">
      Issue that arises
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#possible-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Possible Solutions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Possible Solutions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#identifiersorg" class="md-nav__link">
    <span class="md-ellipsis">
      Identifiers.org
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#www-subdomain" class="md-nav__link">
    <span class="md-ellipsis">
      www Subdomain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-datarecord" class="md-nav__link">
    <span class="md-ellipsis">
      Remove DataRecord
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chosen-solution" class="md-nav__link">
    <span class="md-ellipsis">
      Chosen Solution
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="modelling-decision-for-datarecord">Modelling Decision for DataRecord</h1>
<p>Problems have been encountered when scraping data from three resources using the DataRecord profile to separate the metadata about the biological concept from the concept itself. This work was done in the context of the Intrinsically Disordered Protein BioHackathon <a href="https://github.com/elixir-europe/BioHackathon-projects-2020/tree/master/projects/24/">topic</a> which was scraping data from DisProt, mobiDb, and ProteinEnsemble to generate an IDP Knowledge Graph.</p>
<p>To enable the idea of the DataRecord, a separate identifier is needed for the record from the biological resource, i.e. they need to be two separate nodes in the graph. The problems stem from the fact that most resources use the identifier for the biological resource to identify the webpage associated with the resource, and even when resources such as UniProt do implement this – using purl.uniprot.org identifiers for the proteins and www.uniprot.org identifiers for the webpage – others linking to that data often conflate the two. While this separation is logically correct and enables separate statements to be made about both, it is often not found in Schema.org deployments. Ultimately, this comes down to the web being a messy place and deployments often looking for the easiest way to get their markup on their site.</p>
<h2 id="issue-that-arises">Issue that arises</h2>
<p>The <a href="disprot-DP00003-hashDR.jsonld">current deployment</a> of DisProt (and the other resources) introduce a hash based identifier within the markup to represent the data record and separate it from the URL of the page which is used as the identifier for the protein. The following code snippet shows the relevant lines of markup in JSON-LD.</p>
<pre><code class="language-json">{
  &quot;@context&quot;: &quot;https://schema.org&quot;,
  &quot;@type&quot;: &quot;DataRecord&quot;,
  &quot;@id&quot;: &quot;http://disport.org/DP00003#DR&quot;,
  &quot;includedInDataset&quot;: &quot;https://disprot.org/#2019_09&quot;,
  &quot;mainEntity&quot;: {
    &quot;@id&quot;: &quot;http://disport.org/DP00003&quot;,
    &quot;@type&quot;: &quot;Protein&quot;
  }
}
</code></pre>
<p>While this approach is consistent within itself, it becomes problematic when others link to it. For example, the scraping tool <a href="https://github.com/HW-SWeL/BMUSE">BMUSE</a> adds provenance data to each scraped page so that there is a trail of where the data has been retrieved. This provenance uses the URL of the page that has been scraped. So for our example, that would be the following snippet.</p>
<pre><code class="language-json">{
    &quot;@id&quot;: &quot;https://bioschemas.org/crawl/v1/disprot/DP00003/20201108/2242&quot;,
    &quot;http://purl.org/pav/retrievedFrom&quot;: {
        &quot;@id&quot;: &quot;http://disprot.org/DP00003&quot;
      },
    &quot;http://purl.org/pav/retrievedOn&quot;: {
        &quot;@value&quot;: &quot;2020-11-08T21:20:09&quot;,
        &quot;@type&quot;: &quot;http://www.w3.org/2001/XMLSchema#dateTime&quot;
      }
}
</code></pre>
<p>When this data is combined, we end up with the Protein being retrieved by BMUSE rather than the DataRecord as shown in the following figure.</p>
<p><img alt="disprot-problem" src="disprot-problem.png" /></p>
<h2 id="possible-solutions">Possible Solutions</h2>
<p>The problem arises from the webpage URL being used for the protein rather than the data record. However, we could conceive of some alternative approaches where different URLs are used.</p>
<h3 id="identifiersorg">Identifiers.org</h3>
<p>DisProt is registered with Identifiers.org, so we could use the Identifiers.org URL to represent the protein and the DisProt identifier for the data record as shown in the following snippet (<a href="disprot-DP00003-idorg.jsonld">full example</a>).</p>
<pre><code class="language-json">{
  &quot;@context&quot;: &quot;https://schema.org&quot;,
  &quot;@type&quot;: &quot;DataRecord&quot;,
  &quot;@id&quot;: &quot;http://disport.org/DP00003&quot;,
  &quot;includedInDataset&quot;: &quot;https://disprot.org/#2019_09&quot;,
  &quot;mainEntity&quot;: {
    &quot;@id&quot;: &quot;https://identifiers.org/disprot:DP00003&quot;,
    &quot;@type&quot;: &quot;Protein&quot;
  }
}
</code></pre>
<p>The downside of this approach is that the identifiers for the protein are no longer in the namespace, or control, of the data provider.</p>
<h3 id="www-subdomain"><code>www</code> Subdomain</h3>
<p>We could rely on the identifiers in the data not using the <code>www</code> subdomain and make a distinction between <code>http://www.disprot.org/DP00003</code> and <code>http://disprot.org/DP00003</code>. Again here is the relevant snippet (<a href="disport-DP00003-www.jsonld">full example</a>).</p>
<pre><code class="language-json">{
  &quot;@context&quot;: &quot;https://schema.org&quot;,
  &quot;@type&quot;: &quot;DataRecord&quot;,
  &quot;@id&quot;: &quot;http://www.disport.org/DP00003&quot;,
  &quot;includedInDataset&quot;: &quot;https://disprot.org/#2019_09&quot;,
  &quot;mainEntity&quot;: {
    &quot;@id&quot;: &quot;http://disprot.org/DP00003&quot;,
    &quot;@type&quot;: &quot;Protein&quot;
  }
}
</code></pre>
<p>This approach has the advantage that the namespaces are in the control of the data provider but is susceptible to confusion between the subdomain and the main namespace.</p>
<h3 id="remove-datarecord">Remove DataRecord</h3>
<p>At present, we have no data particularly associated with the DataRecord resource or any consumption use case for retrieving data records. As such, we could simplify the markup and remove the <code>DataRecord</code> resource from the graph. The snipped would then be (<a href="disprot-DP00003-noDR.jsonld">full example</a>).</p>
<pre><code class="language-json">{
  &quot;@context&quot;: &quot;https://schema.org&quot;,
  &quot;@type&quot;: &quot;Protein&quot;,
  &quot;@id&quot;: &quot;http://disport.org/DP00003&quot;,
  &quot;includedInDataset&quot;: &quot;https://disprot.org/#2019_09&quot;
}
</code></pre>
<p>An advantage of this approach is that it simplifies the deployed markup meaning that there more chance of accurate deployments and less of a training burden.</p>
<p>The following figure shows the resulting graph.</p>
<p><img alt="disprot-noDR" src="disprot-noDR.png" /></p>
<h2 id="chosen-solution">Chosen Solution</h2>
<p>Within the three data sources that we are considering in the IDP use case, the data record was added in for a notion of correctness rather than for any particular consumption need. </p>
<p>To simplify the deployment, we are proposing to adopt the approach of no DataRecord.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>